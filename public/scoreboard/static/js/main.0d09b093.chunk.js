(this["webpackJsonpscoreboard-panel"]=this["webpackJsonpscoreboard-panel"]||[]).push([[0],{18:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(5),o=a.n(i),s=(a(18),a(19),a(20),a(13)),r=a(2),l=a(3),m=a.n(l),d=(a(21),a(1));function j(e){var t,a=e.variant,n=e.time,c=m()(Object(r.a)({clock:!0},"is-".concat(a),!0));return Object(d.jsx)("div",{className:c,children:(t=n,(t-(t%=60))/60+(9<t?":":":0")+t)})}a(23);function b(e){var t,a=e.team,n=e.type,c=e.penalties,i=e.emptyGoal,o=a.shortName,s=a.color,l=m()((t={},Object(r.a)(t,n,!0),Object(r.a)(t,"section",!0),Object(r.a)(t,"has-empty-goal",i[n]),t)),b={backgroundColor:s};return Object(d.jsxs)("div",{className:l,children:[Object(d.jsx)("div",{className:"row empty-goal-container",children:Object(d.jsx)("div",{className:"empty-goal",children:"Empty goal"})}),Object(d.jsxs)("div",{className:"row team",children:[Object(d.jsx)("div",{className:"color",style:b}),Object(d.jsx)("div",{className:"name",children:o})]}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"penalties",children:(c.items||[]).filter((function(e){return e.team===n})).map((function(e){var t=e.id,a=e.time;return Object(d.jsx)(j,{variant:"penalty",time:a},t)}))})})]})}var u,h=a(4),p=a(8),v=(a(24),"penalty"),O="goal",f="yellowcard",g="redcard",y="bluecard",x=(u={},Object(r.a)(u,v,(function(e){return"2min Zeitstrafe (".concat(e,".)")})),Object(r.a)(u,O,(function(e){return"".concat(e,". Tor")})),Object(r.a)(u,f,(function(){return"Gelbe Karte"})),Object(r.a)(u,g,(function(){return"Rote Karte"})),Object(r.a)(u,y,(function(){return"Blaue Karte"})),u);function N(e){var t=e.type,a=e.team,n=e.player,c=e.quantity,i=void 0===c?0:c,o=m()({data:!0,"time-penalty":t===v,goal:t===O,"yellow-card":t===f,"red-card":t===g,"blue-card":t===y}),s=x[t](i);return Object(d.jsxs)("div",{className:"info-display",children:[n.number&&Object(d.jsx)("div",{className:"number",children:n.number}),Object(d.jsxs)("div",{className:"details",children:[Object(d.jsx)("div",{className:"team",children:a}),Object(d.jsx)("div",{className:"name",children:n.name}),Object(d.jsx)("div",{className:o,children:s})]})]})}var w=a(6),A=a.n(w),C=Object(p.b)({name:"gameState",initialState:{data:{time:{gameTime:0},teams:{home:{shortName:"HSG D/M",longName:"HSG Dutenhofen/M\xfcnchholzhausen",color:"#00ffff"},away:{shortName:"HSG Hanau",longName:"HSG Hanau",color:"#000000"}},goals:{home:0,away:0},emptyGoal:{home:!1,away:!1},penalties:{items:[]},timeout:{timeout:{isActive:!1,label:"Auszeit"},halftime:{isActive:!1,label:"Halbzeit"},gameEnd:{isActive:!1,label:"Spielenede"}}},events:[]},reducers:{heartbeat:function(e,t){e.data=Object(h.a)({},t.payload)},partialChange:function(e,t){console.log("PARTIAL",t.payload);var a=t.payload,n=a.key,c=a.value;e.data[n]=c},eventHandler:function(e,t){var a=t.payload;w.store.addNotification({insert:"bottom",container:"bottom-left",content:Object(d.jsx)(N,Object(h.a)({},a)),animationIn:["animate__animated animate__slideInLeft"],animationOut:["animate__animated animate__slideOutLeft"],dismiss:{duration:6e3,waitForAnimation:!0},width:600})}}}),S=C.actions,G=S.heartbeat,H=S.eventHandler,_=S.partialChange,k=function(e){return e.game.data},T=C.reducer,E=a(7);function F(){var e=Object(E.b)(k),t=e.teams,a=e.goals,n=e.emptyGoal,c=e.time.gameTime,i=e.penalties,o=e.timeout,r=(Object.entries(o).find((function(e){var t=Object(s.a)(e,2);t[0];return t[1].isActive}))||[,{isActive:!1,label:""}])[1],l=m()({"timeout-reason":!0,"is-active":r.isActive});return Object(d.jsx)("div",{className:"scorepanel",children:Object(d.jsxs)("div",{className:"center-row",children:[Object(d.jsx)(b,{team:t.home,type:"home",penalties:i,emptyGoal:n}),Object(d.jsxs)("div",{className:"game",children:[Object(d.jsx)(j,{variant:"regular",time:c}),Object(d.jsx)("div",{className:"goals",children:"".concat(a.home,":").concat(a.away)}),Object(d.jsx)("div",{className:l,children:r.label})]}),Object(d.jsx)(b,{team:t.away,type:"away",penalties:i,emptyGoal:n})]})})}var I=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(A.a,{}),Object(d.jsx)(F,{})]})},L=Object(p.a)({reducer:{game:T}}),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,50)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),i(e),o(e)}))},B=new(0,a(45).w3cwebsocket)("ws://localhost:8080/","echo-protocol");B.onerror=function(){console.log("Connection Error")},B.onopen=function(){console.log("WebSocket Client Connected")},B.onclose=function(){console.log("echo-protocol Client Closed")},B.onmessage=function(e){if("string"===typeof e.data){var t=JSON.parse(e.data),a=t.event,n=t.payload;console.log(a,n),"heartbeat"===a?L.dispatch(G(n)):"gameEvent"===a?L.dispatch(H(n)):"partial"===a&&L.dispatch(_(n))}};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(E.a,{store:L,children:Object(d.jsx)(I,{})})}),document.getElementById("root")),z()}},[[49,1,2]]]);
//# sourceMappingURL=main.0d09b093.chunk.js.map